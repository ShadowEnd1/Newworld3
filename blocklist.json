[
    "www.reddit.com",
    "208.64.144.53"
];
var express = require(‘express’) 
var app = express()
  
// Part1, defining blacklist
var BLACKLIST =['192.0.0.1'];
// Part2, Geting client IP
var getClientIp = function(req) {
  var ipAddress = req.connection.remoteAddress;
if (!ipAddress) {
    return '';
  }
// convert from "::ffff:192.0.0.1"  to "192.0.0.1"
  if (ipAddress.substr(0, 7) == "::ffff:") {
    ipAddress = ipAddress.substr(7)
  }
return ipAddress;
};
//Part3, Blocking Client IP, if it is in the blacklist
app.use(function(req, res, next) {
  var ipAddress = getClientIp(req);
  if(BLACKLIST.indexOf(ipAddress) === -1){
    next();
  } else {
    res.send(ipAddress + ' IP is not in whiteList')
  }
});
app.get(‘/’, function (req, res) {
   res.send(‘Hello World!’)
})
